# Name

msgdrop - use [ntfy.sh](https://ntfy.sh) to send encrypted messages

# Synopsis

```
msgdrop send [OPTION] [KEYPAIR] [FILE]...
msgdrop recv [OPTION]
msgdrop genkey [OPTION]
```

# Description

Use [ntfy.sh](https://ntfy.sh) to send and receive encrypted messages using a
"random" topic ID.

The topic ID is generated by taking the `md5sum` of the recipient's public key.

`msgdrop send` will join all provided FILEs using `cat(1)` prior to encryption.
If no files are provided, standard input is read instead. The message will be
broken into chunks in order to keep the individual message within the limits
imposed by [ntfy.sh](https://ntfy.sh).

`msgdrop recv` reads all unread messages in the topic, decrypts them using your
public key, and sends them to standard output.

# Options

`-d` Directory to save keypairs (default: `$XDG_CONFIG/msgdrop`)

`-h` Print a help message and exit.

`-v` Display version information.

## send command

`-d [DELAY]` seconds to delay between successive message chunks (Default = 1).

`-l [LENGTH]` maximum length of a message chunk. Must be between 50 and 900
(Default = 140).

## recv command

`-a` Read all messages

`-k [KEYPAIR]` Use a different keypair name than the default. (Default =
msgdrop).

## genkey command

`-k [KEYPAIR]` Use a different keypair name than the default. (Default =
msgdrop).

# Examples

`msgdrop send recipient file1 file2`

Encrypt the concatenated contents of `file` and `file2` using `recipient` as the
encryption key and topic ID.

`echo "Hello world" | msgdrop send recipient`

Encrypt the string "Hello world" using `recipient` as the encryption key and
topic ID.

`msgdrop recv` 

Read unread messages, decrypting with your default key.

`msgdrop recv -a`

Read all messages, using your default key to decrypt.

`msgdrop recv -k foo`

Read unread messages sent to `foo`, decrypting with your the `foo` key.

# Encryption

`msgdrop` requires [age](https://github.com/FiloSottile/age) and an `age(1)` keypair to perform the encryption and decryption.

## Creating Keypairs

`msgdrop genkey [-k KEYPAIR]`

Creates a keypair using the default name `msgdrop` or `KEYPAIR`.

# See Also

[age(1)](https://github.com/FiloSottile/age), [age-keygen(1)](https://github.com/FiloSottile/age)

