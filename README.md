# Name

msgdrop - use [ntfy.sh](https://ntfy.sh) to send encrypted messages

# Synopsis

```
msgdrop send [KEYPAIR] [FILE]...
msgdrop recv [-k KEYPAIR]
msgdrop genkey [-k KEYPAIR]
```

# Description

Use [ntfy.sh](https://ntfy.sh) to send and receive encrypted messages using a
"random" topic ID.

The topic ID is generated by taking the `md5sum` of the recipient's public key.

`msgdrop send` will join all provided FILEs using `cat(1)` prior to encryption.
If no files are provided, standard input is read instead. The final encrypted
message cannot be more than 4096 bytes due to the [ntfy.sh](https://ntfy.sh)
message limitation.

`msgdrop recv` reads all messages in the topic, decrypts them using your public
key, and sends them to standard output.

# Options

`-k [KEYPAIR]` Use a different keypair name than the default.

`-h` Print a help message and exit.

`-v` Display version information.

# Examples

`msgdrop send recipient file1 file2`

Encrypt the concatenated contents of `file` and `file2` using `recipient` as the
encryption key and topic ID.

`echo "Hello world" | msgdrop send recipient`

Encrypt the string "Hello world" using `recipient` as the encryption key and
topic ID.

`msgdrop recv` 

Read all messages, decrypting with your default key.

`msgdrop recv -k foo`

Read all messages sent to `foo`, decrypting with your the `foo` key.


# Encryption

`msgdrop` requires [age](https://github.com/FiloSottile/age) and an `age(1)` keypair to perform the encryption and decryption.

## Creating Keypairs

`msgdrop genkey [-k KEYPAIR]`

Creates a keypair using the default name `msgdrop` or `KEYPAIR`.

# See Also

[age(1)](https://github.com/FiloSottile/age), [age-keygen(1)](https://github.com/FiloSottile/age)

